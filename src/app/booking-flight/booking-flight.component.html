<app-home></app-home>

<div class="container">
    <div class="row">
        <div class="col-md-6">
            <div class="card">
                <div class="text-center">
                    <h2>Book the flight !</h2>
                    <p>Enter all the necessary details.</p>
                </div>
                <form action="" [formGroup]="bookingTicket">
                    <div class="mb-3">
                    <label for="passenger-name">Passenger Name</label>
                    <input type="text" class="form-control" formControlName="name">
                    <div *ngIf="bookingTicket.controls['name'].invalid && (bookingTicket.controls['name'].dirty || bookingTicket.controls['name'].touched)" class="alert alert-danger">Name is Required</div>

                </div>
                    <div class="mb-3">
                    <label for="tickets">Number Of Tickets</label>
                    <input type="number" class="form-control" formControlName="tickets" [ngClass]="{'text-red': bookingTicket.get('tickets')?.value < 1, 'text-green': bookingTicket.get('tickets')?.value >= 1}" >
                    <div *ngIf="bookingTicket.controls['tickets'].invalid && (bookingTicket.controls['tickets'].dirty || bookingTicket.controls['tickets'].touched)" class="alert alert-danger">Number of tickets are required.</div>
                </div>
                    <div class="mb-3">
                    <label for="flightId">Flight ID</label>
                    <input type="text" class="form-control" formControlName="flightId">
                    <div *ngIf="bookingTicket.controls['flightId'].invalid && (bookingTicket.controls['flightId'].dirty || bookingTicket.controls['flightId'].touched)" class="alert alert-danger">Flight Id must be minimum 7 characters long.</div>
                </div>

                <div class="mb-3">
                    <label for="amount">Amount</label>
                    <input type="number" class="form-control" formControlName="amount">
                    <div *ngIf="bookingTicket.controls['amount'].invalid && (bookingTicket.controls['amount'].dirty || bookingTicket.controls['amount'].touched)" class="alert alert-danger">Amount should be entered.</div>
                </div>
                 <button type="submit" mat-raised-button color="primary" [disabled]="!bookingTicket.valid" (click)="onSubmit()">Book</button>
                </form>
                <br>
                <p *ngIf = "submitted === 'true'" class="alert alert-success">{{confirmMessage}}</p>
            </div>
        </div>
    </div>
</div>
